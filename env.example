# Shared Ollama Service Environment Configuration
# Environment variables for native Ollama installation optimized for Apple Silicon MPS
# These can be set when starting Ollama: export OLLAMA_METAL=1 && ollama serve

# Ollama server configuration
OLLAMA_HOST=0.0.0.0
OLLAMA_ORIGINS=*
OLLAMA_KEEP_ALIVE=5m
OLLAMA_DEBUG=false

# Apple Silicon MPS/Metal GPU optimization
OLLAMA_METAL=1              # Explicitly enable Metal acceleration (MPS)
OLLAMA_NUM_GPU=-1           # Use all available Metal GPU cores (-1 = all)
# OLLAMA_NUM_GPU=999        # Alternative: explicitly set high value to use all cores

# CPU optimization (optional - auto-detected if not set)
# OLLAMA_NUM_THREAD=10      # Auto-detected based on CPU cores (your system: 10 cores)

# Memory optimization (automatically calculated based on system RAM)
# Calculate optimal value: ./scripts/calculate_memory_limit.sh
# Formula: Total RAM - 25% (minimum 8GB reserved for system)
# Example: 32GB RAM → 24GB for Ollama, 8GB for system
# Example: 16GB RAM → 12GB for Ollama, 4GB for system
# OLLAMA_MAX_RAM=24GB       # Auto-calculated (run calculate_memory_limit.sh to get value)
# OLLAMA_NUM_PARALLEL=2     # Allow 2 models to run in parallel (if needed)

# Port configuration
OLLAMA_PORT=11434

# Note: Metal/MPS acceleration is automatic on Apple Silicon, but explicitly setting
# OLLAMA_METAL=1 ensures maximum GPU utilization for best performance
